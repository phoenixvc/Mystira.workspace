openapi: 3.1.0
info:
  title: Mystira Common Types - Events
  version: 1.0.0
  description: Domain event schemas for Mystira platform

components:
  schemas:
    # Base Event Types
    DomainEvent:
      type: object
      required:
        - occurredAt
      properties:
        occurredAt:
          type: string
          format: date-time
          description: When the event occurred (UTC)

    IntegrationEvent:
      allOf:
        - $ref: '#/components/schemas/DomainEvent'
        - type: object
          required:
            - eventId
          properties:
            eventId:
              type: string
              format: uuid
              description: Unique event ID for idempotency

    # Account Events
    AccountCreated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - email
          properties:
            type:
              type: string
              const: AccountCreated
            accountId:
              type: string
              description: The unique account ID
            email:
              type: string
              format: email
              description: The user's email address
            provider:
              type: string
              nullable: true
              description: Authentication provider (e.g., "entra", "google")

    AccountUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - updatedFields
          properties:
            type:
              type: string
              const: AccountUpdated
            accountId:
              type: string
            updatedFields:
              type: array
              items:
                type: string

    AccountDeleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
          properties:
            type:
              type: string
              const: AccountDeleted
            accountId:
              type: string
            isSoftDelete:
              type: boolean
              default: true

    # Session Events
    SessionStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - accountId
            - scenarioId
          properties:
            type:
              type: string
              const: SessionStarted
            sessionId:
              type: string
            accountId:
              type: string
            scenarioId:
              type: string

    SessionCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - accountId
            - scenarioId
            - durationSeconds
          properties:
            type:
              type: string
              const: SessionCompleted
            sessionId:
              type: string
            accountId:
              type: string
            scenarioId:
              type: string
            durationSeconds:
              type: integer
            outcome:
              type: string
              nullable: true

    SessionAbandoned:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - accountId
            - durationSeconds
          properties:
            type:
              type: string
              const: SessionAbandoned
            sessionId:
              type: string
            accountId:
              type: string
            durationSeconds:
              type: integer
            lastProgressPoint:
              type: string
              nullable: true

    # Content Events
    ScenarioCreated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - scenarioId
            - title
            - authorId
          properties:
            type:
              type: string
              const: ScenarioCreated
            scenarioId:
              type: string
            title:
              type: string
            authorId:
              type: string
            isPublished:
              type: boolean
              default: false

    ScenarioUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - scenarioId
            - updatedFields
          properties:
            type:
              type: string
              const: ScenarioUpdated
            scenarioId:
              type: string
            updatedFields:
              type: array
              items:
                type: string
            version:
              type: integer
              nullable: true

    ScenarioPublished:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - scenarioId
            - title
            - authorId
          properties:
            type:
              type: string
              const: ScenarioPublished
            scenarioId:
              type: string
            title:
              type: string
            authorId:
              type: string

    ScenarioUnpublished:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - scenarioId
          properties:
            type:
              type: string
              const: ScenarioUnpublished
            scenarioId:
              type: string
            reason:
              type: string
              nullable: true

    MediaUploaded:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - mediaId
            - uploaderId
            - mimeType
            - sizeBytes
          properties:
            type:
              type: string
              const: MediaUploaded
            mediaId:
              type: string
            uploaderId:
              type: string
            mimeType:
              type: string
            sizeBytes:
              type: integer
              format: int64

    # Cache Events
    CacheInvalidated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - keyPattern
            - entityType
            - sourceService
          properties:
            type:
              type: string
              const: CacheInvalidated
            keyPattern:
              type: string
              description: Cache key pattern to invalidate (supports wildcards)
            entityType:
              type: string
            entityId:
              type: string
              nullable: true
            sourceService:
              type: string

    CacheWarmupRequested:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - entityType
          properties:
            type:
              type: string
              const: CacheWarmupRequested
            entityType:
              type: string
              description: The entity type to warm
            entityIds:
              type: array
              items:
                type: string
              nullable: true
              description: Specific entity IDs to warm (null = all)
            priority:
              type: integer
              default: 0
              description: Priority level (higher = more urgent)

    # AI Events
    StoryGenerationRequested:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - requestId
            - scenarioId
            - accountId
          properties:
            type:
              type: string
              const: StoryGenerationRequested
            requestId:
              type: string
              description: The request ID for tracking
            scenarioId:
              type: string
              description: The scenario being generated for
            accountId:
              type: string
              description: The requesting user's account ID
            prompt:
              type: string
              nullable: true
              description: The prompt or context for generation

    StoryGenerationCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - requestId
            - scenarioId
            - durationMs
          properties:
            type:
              type: string
              const: StoryGenerationCompleted
            requestId:
              type: string
            scenarioId:
              type: string
            durationMs:
              type: integer
              description: Time taken in milliseconds
            tokensUsed:
              type: integer
              nullable: true
              description: Token count used
            model:
              type: string
              nullable: true
              description: Model used for generation

    StoryGenerationFailed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - requestId
            - scenarioId
            - errorCode
            - errorMessage
          properties:
            type:
              type: string
              const: StoryGenerationFailed
            requestId:
              type: string
            scenarioId:
              type: string
            errorCode:
              type: string
            errorMessage:
              type: string
            isRetryable:
              type: boolean
              default: false

    # User Events
    UserLoggedIn:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - provider
          properties:
            type:
              type: string
              const: UserLoggedIn
            accountId:
              type: string
            provider:
              type: string
              description: Authentication provider used
            clientIp:
              type: string
              nullable: true
              description: Client IP address (masked for privacy)
            userAgent:
              type: string
              nullable: true

    UserLoggedOut:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
          properties:
            type:
              type: string
              const: UserLoggedOut
            accountId:
              type: string
            isExplicit:
              type: boolean
              default: true
              description: Whether this was an explicit logout or session expiry

    PasswordResetRequested:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - email
            - expiresAt
          properties:
            type:
              type: string
              const: PasswordResetRequested
            accountId:
              type: string
            email:
              type: string
              format: email
            expiresAt:
              type: string
              format: date-time
              description: Expiry time for the reset token

    PasswordChanged:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
          properties:
            type:
              type: string
              const: PasswordChanged
            accountId:
              type: string
            viaReset:
              type: boolean
              default: false
              description: Whether this was via reset flow or user-initiated

    # Notification Events
    NotificationSent:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - notificationId
            - recipientId
            - notificationType
            - template
          properties:
            type:
              type: string
              const: NotificationSent
            notificationId:
              type: string
            recipientId:
              type: string
              description: The recipient's account ID
            notificationType:
              type: string
              description: Notification type (email, push, in-app)
            template:
              type: string
              description: Template or category

    EmailSent:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - emailId
            - recipientEmail
            - template
            - subject
          properties:
            type:
              type: string
              const: EmailSent
            emailId:
              type: string
              description: The email ID for tracking
            recipientEmail:
              type: string
              description: The recipient's email (masked)
            template:
              type: string
              description: Email template used
            subject:
              type: string
              description: Subject line

    NotificationFailed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - notificationId
            - recipientId
            - reason
          properties:
            type:
              type: string
              const: NotificationFailed
            notificationId:
              type: string
            recipientId:
              type: string
            reason:
              type: string
              description: Error reason
            isRetryable:
              type: boolean
              default: false

    # Progression Events
    ChoiceMade:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - scenarioId
            - accountId
            - nodeId
            - choiceId
          properties:
            type:
              type: string
              const: ChoiceMade
            sessionId:
              type: string
            scenarioId:
              type: string
            accountId:
              type: string
            nodeId:
              type: string
            choiceId:
              type: string
            decisionTimeSeconds:
              type: integer
              nullable: true

    ChapterStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - scenarioId
            - accountId
            - chapterId
            - chapterNumber
          properties:
            type:
              type: string
              const: ChapterStarted
            sessionId:
              type: string
            scenarioId:
              type: string
            accountId:
              type: string
            chapterId:
              type: string
            chapterNumber:
              type: integer
            isFirstPlay:
              type: boolean
              default: true

    ChapterCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - scenarioId
            - accountId
            - chapterId
            - chapterNumber
            - durationSeconds
          properties:
            type:
              type: string
              const: ChapterCompleted
            sessionId:
              type: string
            scenarioId:
              type: string
            accountId:
              type: string
            chapterId:
              type: string
            chapterNumber:
              type: integer
            durationSeconds:
              type: integer
            choicesMade:
              type: integer
              default: 0
            outcome:
              type: string
              nullable: true

    CheckpointReached:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - scenarioId
            - accountId
            - checkpointId
          properties:
            type:
              type: string
              const: CheckpointReached
            sessionId:
              type: string
            scenarioId:
              type: string
            accountId:
              type: string
            checkpointId:
              type: string
            checkpointName:
              type: string
              nullable: true
            progressPercent:
              type: integer
              default: 0

    StoryBranchTaken:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - scenarioId
            - accountId
            - branchId
            - fromNodeId
            - toNodeId
          properties:
            type:
              type: string
              const: StoryBranchTaken
            sessionId:
              type: string
            scenarioId:
              type: string
            accountId:
              type: string
            branchId:
              type: string
            branchName:
              type: string
              nullable: true
            fromNodeId:
              type: string
            toNodeId:
              type: string

    ProgressSaved:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - sessionId
            - scenarioId
            - accountId
            - saveSlotId
            - currentNodeId
          properties:
            type:
              type: string
              const: ProgressSaved
            sessionId:
              type: string
            scenarioId:
              type: string
            accountId:
              type: string
            saveSlotId:
              type: string
            currentNodeId:
              type: string
            progressPercent:
              type: integer
              default: 0
            isOverwrite:
              type: boolean
              default: false

    # Gamification Events
    AchievementUnlocked:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - achievementId
            - achievementName
            - category
          properties:
            type:
              type: string
              const: AchievementUnlocked
            accountId:
              type: string
            achievementId:
              type: string
            achievementName:
              type: string
            category:
              type: string
            rarity:
              type: string
              nullable: true
            xpReward:
              type: integer
              default: 0
            scenarioId:
              type: string
              nullable: true

    BadgeEarned:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - badgeId
            - badgeName
          properties:
            type:
              type: string
              const: BadgeEarned
            accountId:
              type: string
            badgeId:
              type: string
            badgeName:
              type: string
            tier:
              type: string
              nullable: true
            earnedVia:
              type: string
              nullable: true

    XPEarned:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - amount
            - source
            - totalXP
          properties:
            type:
              type: string
              const: XPEarned
            accountId:
              type: string
            amount:
              type: integer
            source:
              type: string
            totalXP:
              type: integer
              format: int64
            multiplier:
              type: number
              default: 1.0
            relatedEntityId:
              type: string
              nullable: true

    LevelUp:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - fromLevel
            - toLevel
            - totalXP
          properties:
            type:
              type: string
              const: LevelUp
            accountId:
              type: string
            fromLevel:
              type: integer
            toLevel:
              type: integer
            totalXP:
              type: integer
              format: int64
            unlockedRewards:
              type: array
              items:
                type: string
              nullable: true

    StreakUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - streakType
            - currentStreak
          properties:
            type:
              type: string
              const: StreakUpdated
            accountId:
              type: string
            streakType:
              type: string
            currentStreak:
              type: integer
            previousStreak:
              type: integer
              default: 0
            longestStreak:
              type: integer
              default: 0
            wasBroken:
              type: boolean
              default: false
            bonusXP:
              type: integer
              default: 0

    LeaderboardUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - leaderboardId
            - newRank
            - score
            - period
          properties:
            type:
              type: string
              const: LeaderboardUpdated
            accountId:
              type: string
            leaderboardId:
              type: string
            previousRank:
              type: integer
              default: 0
            newRank:
              type: integer
            score:
              type: integer
              format: int64
            period:
              type: string

    # Payment Events
    SubscriptionStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - subscriptionId
            - planId
            - planName
            - billingInterval
            - amountCents
            - currency
          properties:
            type:
              type: string
              const: SubscriptionStarted
            accountId:
              type: string
            subscriptionId:
              type: string
            planId:
              type: string
            planName:
              type: string
            billingInterval:
              type: string
            amountCents:
              type: integer
            currency:
              type: string
            isTrial:
              type: boolean
              default: false
            trialEndsAt:
              type: string
              format: date-time
              nullable: true

    SubscriptionRenewed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - subscriptionId
            - paymentId
            - amountCents
            - currency
            - nextBillingDate
          properties:
            type:
              type: string
              const: SubscriptionRenewed
            accountId:
              type: string
            subscriptionId:
              type: string
            paymentId:
              type: string
            amountCents:
              type: integer
            currency:
              type: string
            nextBillingDate:
              type: string
              format: date-time

    SubscriptionCancelled:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - subscriptionId
            - accessEndsAt
          properties:
            type:
              type: string
              const: SubscriptionCancelled
            accountId:
              type: string
            subscriptionId:
              type: string
            reason:
              type: string
              nullable: true
            isImmediate:
              type: boolean
              default: false
            accessEndsAt:
              type: string
              format: date-time
            refundRequested:
              type: boolean
              default: false

    PaymentSucceeded:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - paymentId
            - amountCents
            - currency
            - paymentMethod
            - productType
            - productId
          properties:
            type:
              type: string
              const: PaymentSucceeded
            accountId:
              type: string
            paymentId:
              type: string
            amountCents:
              type: integer
            currency:
              type: string
            paymentMethod:
              type: string
            productType:
              type: string
            productId:
              type: string
            externalTransactionId:
              type: string
              nullable: true

    PaymentFailed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - paymentId
            - amountCents
            - currency
            - failureCode
            - failureMessage
          properties:
            type:
              type: string
              const: PaymentFailed
            accountId:
              type: string
            paymentId:
              type: string
            amountCents:
              type: integer
            currency:
              type: string
            failureCode:
              type: string
            failureMessage:
              type: string
            isRetryable:
              type: boolean
              default: false
            retryAttempt:
              type: integer
              default: 0

    RefundProcessed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - refundId
            - originalPaymentId
            - amountCents
            - currency
            - reason
          properties:
            type:
              type: string
              const: RefundProcessed
            accountId:
              type: string
            refundId:
              type: string
            originalPaymentId:
              type: string
            amountCents:
              type: integer
            currency:
              type: string
            reason:
              type: string
            isPartial:
              type: boolean
              default: false

    PremiumContentUnlocked:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - contentType
            - contentId
            - unlockMethod
          properties:
            type:
              type: string
              const: PremiumContentUnlocked
            accountId:
              type: string
            contentType:
              type: string
            contentId:
              type: string
            unlockMethod:
              type: string
            paymentId:
              type: string
              nullable: true

    # Social Events
    ScenarioRated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - scenarioId
            - rating
          properties:
            type:
              type: string
              const: ScenarioRated
            accountId:
              type: string
            scenarioId:
              type: string
            rating:
              type: integer
              minimum: 1
              maximum: 5
            previousRating:
              type: integer
              nullable: true

    ScenarioReviewed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - reviewId
            - accountId
            - scenarioId
            - rating
          properties:
            type:
              type: string
              const: ScenarioReviewed
            reviewId:
              type: string
            accountId:
              type: string
            scenarioId:
              type: string
            rating:
              type: integer
            hasTextContent:
              type: boolean
              default: false
            textLength:
              type: integer
              default: 0
            hasCompletedScenario:
              type: boolean
              default: false

    ScenarioShared:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - scenarioId
            - platform
            - shareId
          properties:
            type:
              type: string
              const: ScenarioShared
            accountId:
              type: string
            scenarioId:
              type: string
            platform:
              type: string
            shareId:
              type: string

    UserFollowed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - followerAccountId
            - followedAccountId
          properties:
            type:
              type: string
              const: UserFollowed
            followerAccountId:
              type: string
            followedAccountId:
              type: string
            isMutual:
              type: boolean
              default: false

    UserUnfollowed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - followerAccountId
            - unfollowedAccountId
          properties:
            type:
              type: string
              const: UserUnfollowed
            followerAccountId:
              type: string
            unfollowedAccountId:
              type: string

    CommentPosted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - commentId
            - accountId
            - targetType
            - targetId
          properties:
            type:
              type: string
              const: CommentPosted
            commentId:
              type: string
            accountId:
              type: string
            targetType:
              type: string
            targetId:
              type: string
            parentCommentId:
              type: string
              nullable: true
            textLength:
              type: integer
              default: 0

    CommentDeleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - commentId
            - accountId
            - deletedBy
          properties:
            type:
              type: string
              const: CommentDeleted
            commentId:
              type: string
            accountId:
              type: string
            deletedBy:
              type: string
            reason:
              type: string
              nullable: true

    ContentLiked:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - contentType
            - contentId
            - contentOwnerId
          properties:
            type:
              type: string
              const: ContentLiked
            accountId:
              type: string
            contentType:
              type: string
            contentId:
              type: string
            contentOwnerId:
              type: string

    ContentUnliked:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - contentType
            - contentId
          properties:
            type:
              type: string
              const: ContentUnliked
            accountId:
              type: string
            contentType:
              type: string
            contentId:
              type: string

    # Moderation Events
    ContentReported:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - reportId
            - reporterAccountId
            - contentType
            - contentId
            - contentOwnerId
            - category
          properties:
            type:
              type: string
              const: ContentReported
            reportId:
              type: string
            reporterAccountId:
              type: string
            contentType:
              type: string
            contentId:
              type: string
            contentOwnerId:
              type: string
            category:
              type: string
            hasDetails:
              type: boolean
              default: false

    ContentModerated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - actionId
            - contentType
            - contentId
            - contentOwnerId
            - moderatorId
            - action
            - reason
          properties:
            type:
              type: string
              const: ContentModerated
            actionId:
              type: string
            contentType:
              type: string
            contentId:
              type: string
            contentOwnerId:
              type: string
            moderatorId:
              type: string
            action:
              type: string
            reason:
              type: string
            relatedReportIds:
              type: array
              items:
                type: string
              nullable: true

    UserWarned:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - warningId
            - accountId
            - moderatorId
            - category
            - severity
          properties:
            type:
              type: string
              const: UserWarned
            warningId:
              type: string
            accountId:
              type: string
            moderatorId:
              type: string
            category:
              type: string
            severity:
              type: string
            warningCount:
              type: integer
              default: 1
            relatedContentId:
              type: string
              nullable: true

    UserSuspended:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - suspensionId
            - accountId
            - moderatorId
            - reason
          properties:
            type:
              type: string
              const: UserSuspended
            suspensionId:
              type: string
            accountId:
              type: string
            moderatorId:
              type: string
            reason:
              type: string
            durationHours:
              type: integer
              nullable: true
            endsAt:
              type: string
              format: date-time
              nullable: true
            canAppeal:
              type: boolean
              default: true

    UserBanned:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - banId
            - accountId
            - moderatorId
            - reason
          properties:
            type:
              type: string
              const: UserBanned
            banId:
              type: string
            accountId:
              type: string
            moderatorId:
              type: string
            reason:
              type: string
            isPermanent:
              type: boolean
              default: true
            endsAt:
              type: string
              format: date-time
              nullable: true
            canAppeal:
              type: boolean
              default: false

    AppealSubmitted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - appealId
            - accountId
            - appealType
            - relatedActionId
          properties:
            type:
              type: string
              const: AppealSubmitted
            appealId:
              type: string
            accountId:
              type: string
            appealType:
              type: string
            relatedActionId:
              type: string

    AppealResolved:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - appealId
            - accountId
            - moderatorId
            - outcome
          properties:
            type:
              type: string
              const: AppealResolved
            appealId:
              type: string
            accountId:
              type: string
            moderatorId:
              type: string
            outcome:
              type: string
            notes:
              type: string
              nullable: true

    # Onboarding Events
    EmailVerified:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - email
            - verificationMethod
          properties:
            type:
              type: string
              const: EmailVerified
            accountId:
              type: string
            email:
              type: string
              format: email
            verificationMethod:
              type: string

    OnboardingStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - onboardingVersion
          properties:
            type:
              type: string
              const: OnboardingStarted
            accountId:
              type: string
            onboardingVersion:
              type: string
            source:
              type: string
              nullable: true

    OnboardingStepCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - stepId
            - stepName
            - stepNumber
            - totalSteps
          properties:
            type:
              type: string
              const: OnboardingStepCompleted
            accountId:
              type: string
            stepId:
              type: string
            stepName:
              type: string
            stepNumber:
              type: integer
            totalSteps:
              type: integer
            skipped:
              type: boolean
              default: false

    OnboardingCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - durationSeconds
            - stepsCompleted
            - stepsSkipped
          properties:
            type:
              type: string
              const: OnboardingCompleted
            accountId:
              type: string
            durationSeconds:
              type: integer
            stepsCompleted:
              type: integer
            stepsSkipped:
              type: integer

    OnboardingSkipped:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - atStep
          properties:
            type:
              type: string
              const: OnboardingSkipped
            accountId:
              type: string
            atStep:
              type: integer

    ProfileCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
          properties:
            type:
              type: string
              const: ProfileCompleted
            accountId:
              type: string
            displayNameSet:
              type: boolean
              default: false
            avatarSet:
              type: boolean
              default: false
            preferencesSet:
              type: boolean
              default: false

    ReferralSignup:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - referrerAccountId
            - referralCode
          properties:
            type:
              type: string
              const: ReferralSignup
            accountId:
              type: string
            referrerAccountId:
              type: string
            referralCode:
              type: string
            campaign:
              type: string
              nullable: true

    ReferralRewardGranted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - referredAccountId
            - rewardType
            - rewardValue
          properties:
            type:
              type: string
              const: ReferralRewardGranted
            accountId:
              type: string
            referredAccountId:
              type: string
            rewardType:
              type: string
            rewardValue:
              type: string

    # Bundle Events
    BundleCreated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - bundleId
            - bundleName
            - creatorId
            - itemCount
          properties:
            type:
              type: string
              const: BundleCreated
            bundleId:
              type: string
            bundleName:
              type: string
            creatorId:
              type: string
            itemCount:
              type: integer
            priceCents:
              type: integer
              nullable: true
            currency:
              type: string
              nullable: true

    BundlePurchased:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - bundleId
            - paymentId
            - priceCents
            - currency
          properties:
            type:
              type: string
              const: BundlePurchased
            accountId:
              type: string
            bundleId:
              type: string
            paymentId:
              type: string
            priceCents:
              type: integer
            currency:
              type: string
            discountApplied:
              type: boolean
              default: false

    BundleActivated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - bundleId
            - itemsUnlocked
          properties:
            type:
              type: string
              const: BundleActivated
            accountId:
              type: string
            bundleId:
              type: string
            itemsUnlocked:
              type: array
              items:
                type: string

    BundleGifted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - senderAccountId
            - recipientAccountId
            - bundleId
          properties:
            type:
              type: string
              const: BundleGifted
            senderAccountId:
              type: string
            recipientAccountId:
              type: string
            bundleId:
              type: string
            giftMessage:
              type: string
              nullable: true

    PromoCodeRedeemed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - promoCode
            - discountType
            - discountValue
          properties:
            type:
              type: string
              const: PromoCodeRedeemed
            accountId:
              type: string
            promoCode:
              type: string
            discountType:
              type: string
            discountValue:
              type: number
            appliedTo:
              type: string
              nullable: true

    # Co-op/Partner Events
    PartnerInviteSent:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - inviteId
            - senderAccountId
            - recipientAccountId
            - expiresAt
          properties:
            type:
              type: string
              const: PartnerInviteSent
            inviteId:
              type: string
            senderAccountId:
              type: string
            recipientAccountId:
              type: string
            scenarioId:
              type: string
              nullable: true
            expiresAt:
              type: string
              format: date-time

    PartnerInviteAccepted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - inviteId
            - senderAccountId
            - recipientAccountId
          properties:
            type:
              type: string
              const: PartnerInviteAccepted
            inviteId:
              type: string
            senderAccountId:
              type: string
            recipientAccountId:
              type: string
            scenarioId:
              type: string
              nullable: true

    PartnerInviteDeclined:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - inviteId
            - senderAccountId
            - recipientAccountId
          properties:
            type:
              type: string
              const: PartnerInviteDeclined
            inviteId:
              type: string
            senderAccountId:
              type: string
            recipientAccountId:
              type: string
            reason:
              type: string
              nullable: true

    CoopSessionStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - coopSessionId
            - hostAccountId
            - scenarioId
            - maxPartners
          properties:
            type:
              type: string
              const: CoopSessionStarted
            coopSessionId:
              type: string
            hostAccountId:
              type: string
            scenarioId:
              type: string
            maxPartners:
              type: integer

    PartnerJoinedSession:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - coopSessionId
            - partnerAccountId
            - joinMethod
            - currentPartnerCount
          properties:
            type:
              type: string
              const: PartnerJoinedSession
            coopSessionId:
              type: string
            partnerAccountId:
              type: string
            joinMethod:
              type: string
            currentPartnerCount:
              type: integer

    PartnerLeftSession:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - coopSessionId
            - partnerAccountId
            - reason
            - remainingPartners
          properties:
            type:
              type: string
              const: PartnerLeftSession
            coopSessionId:
              type: string
            partnerAccountId:
              type: string
            reason:
              type: string
            remainingPartners:
              type: integer

    CoopSessionEnded:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - coopSessionId
            - hostAccountId
            - durationSeconds
            - participantCount
            - endReason
          properties:
            type:
              type: string
              const: CoopSessionEnded
            coopSessionId:
              type: string
            hostAccountId:
              type: string
            durationSeconds:
              type: integer
            participantCount:
              type: integer
            endReason:
              type: string

    TurnPassed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - coopSessionId
            - fromAccountId
            - toAccountId
            - turnNumber
          properties:
            type:
              type: string
              const: TurnPassed
            coopSessionId:
              type: string
            fromAccountId:
              type: string
            toAccountId:
              type: string
            turnNumber:
              type: integer

    # Chat/Messaging Events
    ConversationStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - conversationId
            - initiatorAccountId
            - participantIds
            - conversationType
          properties:
            type:
              type: string
              const: ConversationStarted
            conversationId:
              type: string
            initiatorAccountId:
              type: string
            participantIds:
              type: array
              items:
                type: string
            conversationType:
              type: string
            contextId:
              type: string
              nullable: true

    MessageSent:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - messageId
            - conversationId
            - senderAccountId
            - messageType
          properties:
            type:
              type: string
              const: MessageSent
            messageId:
              type: string
            conversationId:
              type: string
            senderAccountId:
              type: string
            messageType:
              type: string
            contentLength:
              type: integer
              default: 0
            hasAttachments:
              type: boolean
              default: false

    MessageDelivered:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - messageId
            - conversationId
            - recipientAccountId
          properties:
            type:
              type: string
              const: MessageDelivered
            messageId:
              type: string
            conversationId:
              type: string
            recipientAccountId:
              type: string
            deliveryLatencyMs:
              type: integer
              default: 0

    MessageRead:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - messageId
            - conversationId
            - readerAccountId
          properties:
            type:
              type: string
              const: MessageRead
            messageId:
              type: string
            conversationId:
              type: string
            readerAccountId:
              type: string
            readDelaySeconds:
              type: integer
              default: 0

    MessageDeleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - messageId
            - conversationId
            - deletedByAccountId
          properties:
            type:
              type: string
              const: MessageDeleted
            messageId:
              type: string
            conversationId:
              type: string
            deletedByAccountId:
              type: string
            deletedForEveryone:
              type: boolean
              default: false

    TypingStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - conversationId
            - accountId
          properties:
            type:
              type: string
              const: TypingStarted
            conversationId:
              type: string
            accountId:
              type: string

    ConversationArchived:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - conversationId
            - archivedByAccountId
          properties:
            type:
              type: string
              const: ConversationArchived
            conversationId:
              type: string
            archivedByAccountId:
              type: string

    UserMutedInConversation:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - conversationId
            - mutedAccountId
            - mutedByAccountId
          properties:
            type:
              type: string
              const: UserMutedInConversation
            conversationId:
              type: string
            mutedAccountId:
              type: string
            mutedByAccountId:
              type: string
            durationMinutes:
              type: integer
              nullable: true

    # Device/Sync Events
    DeviceRegistered:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - deviceId
            - deviceType
            - deviceName
            - appVersion
          properties:
            type:
              type: string
              const: DeviceRegistered
            accountId:
              type: string
            deviceId:
              type: string
            deviceType:
              type: string
            deviceName:
              type: string
            osVersion:
              type: string
              nullable: true
            appVersion:
              type: string

    DeviceRemoved:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - deviceId
            - removedBy
            - reason
          properties:
            type:
              type: string
              const: DeviceRemoved
            accountId:
              type: string
            deviceId:
              type: string
            removedBy:
              type: string
            reason:
              type: string

    SessionSynced:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - sessionId
            - fromDeviceId
            - toDeviceId
            - dataSize
          properties:
            type:
              type: string
              const: SessionSynced
            accountId:
              type: string
            sessionId:
              type: string
            fromDeviceId:
              type: string
            toDeviceId:
              type: string
            dataSize:
              type: integer

    SyncConflictDetected:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - sessionId
            - device1Id
            - device2Id
            - conflictType
            - resolution
          properties:
            type:
              type: string
              const: SyncConflictDetected
            accountId:
              type: string
            sessionId:
              type: string
            device1Id:
              type: string
            device2Id:
              type: string
            conflictType:
              type: string
            resolution:
              type: string

    DeviceHandoffStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - sessionId
            - fromDeviceId
            - toDeviceId
          properties:
            type:
              type: string
              const: DeviceHandoffStarted
            accountId:
              type: string
            sessionId:
              type: string
            fromDeviceId:
              type: string
            toDeviceId:
              type: string

    DeviceHandoffCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - sessionId
            - fromDeviceId
            - toDeviceId
            - handoffDurationMs
            - success
          properties:
            type:
              type: string
              const: DeviceHandoffCompleted
            accountId:
              type: string
            sessionId:
              type: string
            fromDeviceId:
              type: string
            toDeviceId:
              type: string
            handoffDurationMs:
              type: integer
            success:
              type: boolean

    PushSettingsUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - deviceId
            - pushEnabled
          properties:
            type:
              type: string
              const: PushSettingsUpdated
            accountId:
              type: string
            deviceId:
              type: string
            pushEnabled:
              type: boolean
            categories:
              type: array
              items:
                type: string
              nullable: true

    # Discovery/Recommendation Events
    SearchPerformed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - searchId
            - query
            - resultCount
            - searchType
          properties:
            type:
              type: string
              const: SearchPerformed
            accountId:
              type: string
              nullable: true
            searchId:
              type: string
            query:
              type: string
            filters:
              type: object
              additionalProperties:
                type: string
              nullable: true
            resultCount:
              type: integer
            searchType:
              type: string

    SearchResultClicked:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - searchId
            - resultId
            - resultType
            - position
          properties:
            type:
              type: string
              const: SearchResultClicked
            accountId:
              type: string
            searchId:
              type: string
            resultId:
              type: string
            resultType:
              type: string
            position:
              type: integer

    RecommendationShown:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - recommendationId
            - itemIds
            - algorithm
            - context
          properties:
            type:
              type: string
              const: RecommendationShown
            accountId:
              type: string
            recommendationId:
              type: string
            itemIds:
              type: array
              items:
                type: string
            algorithm:
              type: string
            context:
              type: string

    RecommendationClicked:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - recommendationId
            - itemId
            - position
          properties:
            type:
              type: string
              const: RecommendationClicked
            accountId:
              type: string
            recommendationId:
              type: string
            itemId:
              type: string
            position:
              type: integer

    RecommendationDismissed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - recommendationId
          properties:
            type:
              type: string
              const: RecommendationDismissed
            accountId:
              type: string
            recommendationId:
              type: string
            itemId:
              type: string
              nullable: true
            reason:
              type: string
              nullable: true

    ContentFeatured:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - contentId
            - contentType
            - featuredBy
            - placement
          properties:
            type:
              type: string
              const: ContentFeatured
            contentId:
              type: string
            contentType:
              type: string
            featuredBy:
              type: string
            featuredUntil:
              type: string
              format: date-time
              nullable: true
            placement:
              type: string

    TagFollowed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - tagId
            - tagName
          properties:
            type:
              type: string
              const: TagFollowed
            accountId:
              type: string
            tagId:
              type: string
            tagName:
              type: string

    TagUnfollowed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - tagId
            - tagName
          properties:
            type:
              type: string
              const: TagUnfollowed
            accountId:
              type: string
            tagId:
              type: string
            tagName:
              type: string

    # Inventory Events
    ItemAcquired:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - itemId
            - itemType
            - itemName
            - quantity
            - acquisitionMethod
          properties:
            type:
              type: string
              const: ItemAcquired
            accountId:
              type: string
            itemId:
              type: string
            itemType:
              type: string
            itemName:
              type: string
            quantity:
              type: integer
            acquisitionMethod:
              type: string
            sourceId:
              type: string
              nullable: true

    ItemUsed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - itemId
            - quantity
            - remainingQuantity
          properties:
            type:
              type: string
              const: ItemUsed
            accountId:
              type: string
            itemId:
              type: string
            quantity:
              type: integer
            contextId:
              type: string
              nullable: true
            remainingQuantity:
              type: integer

    ItemEquipped:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - itemId
            - slot
          properties:
            type:
              type: string
              const: ItemEquipped
            accountId:
              type: string
            itemId:
              type: string
            slot:
              type: string
            previousItemId:
              type: string
              nullable: true

    ItemUnequipped:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - itemId
            - slot
          properties:
            type:
              type: string
              const: ItemUnequipped
            accountId:
              type: string
            itemId:
              type: string
            slot:
              type: string

    CurrencyEarned:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - currencyType
            - amount
            - source
            - newBalance
          properties:
            type:
              type: string
              const: CurrencyEarned
            accountId:
              type: string
            currencyType:
              type: string
            amount:
              type: integer
            source:
              type: string
            newBalance:
              type: integer
              format: int64

    CurrencySpent:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - currencyType
            - amount
            - spentOn
            - newBalance
          properties:
            type:
              type: string
              const: CurrencySpent
            accountId:
              type: string
            currencyType:
              type: string
            amount:
              type: integer
            spentOn:
              type: string
            itemId:
              type: string
              nullable: true
            newBalance:
              type: integer
              format: int64

    ItemTraded:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - tradeId
            - user1AccountId
            - user2AccountId
            - user1ItemIds
            - user2ItemIds
          properties:
            type:
              type: string
              const: ItemTraded
            tradeId:
              type: string
            user1AccountId:
              type: string
            user2AccountId:
              type: string
            user1ItemIds:
              type: array
              items:
                type: string
            user2ItemIds:
              type: array
              items:
                type: string

    DailyRewardClaimed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - streakDay
            - rewardType
            - rewardValue
          properties:
            type:
              type: string
              const: DailyRewardClaimed
            accountId:
              type: string
            streakDay:
              type: integer
            rewardType:
              type: string
            rewardValue:
              type: string
            streakBonusApplied:
              type: boolean
              default: false

    # Preference Events
    PreferencesUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - category
            - key
            - newValue
          properties:
            type:
              type: string
              const: PreferencesUpdated
            accountId:
              type: string
            category:
              type: string
            key:
              type: string
            newValue:
              type: string
            previousValue:
              type: string
              nullable: true

    ThemeChanged:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - fromTheme
            - toTheme
          properties:
            type:
              type: string
              const: ThemeChanged
            accountId:
              type: string
            fromTheme:
              type: string
            toTheme:
              type: string

    LanguageChanged:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - fromLanguage
            - toLanguage
          properties:
            type:
              type: string
              const: LanguageChanged
            accountId:
              type: string
            fromLanguage:
              type: string
            toLanguage:
              type: string

    AccessibilitySettingChanged:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - setting
            - enabled
          properties:
            type:
              type: string
              const: AccessibilitySettingChanged
            accountId:
              type: string
            setting:
              type: string
            enabled:
              type: boolean
            value:
              type: string
              nullable: true

    PrivacySettingChanged:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - setting
            - newValue
          properties:
            type:
              type: string
              const: PrivacySettingChanged
            accountId:
              type: string
            setting:
              type: string
            newValue:
              type: string

    NotificationPreferenceChanged:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - channel
            - category
            - enabled
          properties:
            type:
              type: string
              const: NotificationPreferenceChanged
            accountId:
              type: string
            channel:
              type: string
            category:
              type: string
            enabled:
              type: boolean

    ContentPreferenceUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - preferenceType
            - values
          properties:
            type:
              type: string
              const: ContentPreferenceUpdated
            accountId:
              type: string
            preferenceType:
              type: string
            values:
              type: array
              items:
                type: string

    ParentalControlsUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - parentAccountId
            - controlType
            - restrictionValue
          properties:
            type:
              type: string
              const: ParentalControlsUpdated
            parentAccountId:
              type: string
            childAccountId:
              type: string
              nullable: true
            controlType:
              type: string
            restrictionValue:
              type: string

    # Season/Battle Pass Events
    SeasonStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - seasonId
            - seasonName
            - startDate
            - endDate
          properties:
            type:
              type: string
              const: SeasonStarted
            seasonId:
              type: string
            seasonName:
              type: string
            startDate:
              type: string
              format: date-time
            endDate:
              type: string
              format: date-time
            seasonNumber:
              type: integer
              nullable: true

    SeasonEnded:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - seasonId
          properties:
            type:
              type: string
              const: SeasonEnded
            seasonId:
              type: string
            totalParticipants:
              type: integer
              nullable: true

    BattlePassPurchased:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - seasonId
            - passType
          properties:
            type:
              type: string
              const: BattlePassPurchased
            accountId:
              type: string
            seasonId:
              type: string
            passType:
              type: string
              description: e.g., "free", "premium", "deluxe"
            purchasePrice:
              type: number
              nullable: true

    BattlePassTierCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - seasonId
            - tier
          properties:
            type:
              type: string
              const: BattlePassTierCompleted
            accountId:
              type: string
            seasonId:
              type: string
            tier:
              type: integer
            rewardsUnlocked:
              type: array
              items:
                type: string

    SeasonalRewardClaimed:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - seasonId
            - rewardId
          properties:
            type:
              type: string
              const: SeasonalRewardClaimed
            accountId:
              type: string
            seasonId:
              type: string
            rewardId:
              type: string
            rewardType:
              type: string
            tier:
              type: integer
              nullable: true

    # Tutorial Events
    TutorialStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - tutorialId
          properties:
            type:
              type: string
              const: TutorialStarted
            accountId:
              type: string
            tutorialId:
              type: string
            tutorialName:
              type: string
              nullable: true

    TutorialStepCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - tutorialId
            - stepId
          properties:
            type:
              type: string
              const: TutorialStepCompleted
            accountId:
              type: string
            tutorialId:
              type: string
            stepId:
              type: string
            stepNumber:
              type: integer
            durationSeconds:
              type: number
              nullable: true

    TutorialCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - tutorialId
          properties:
            type:
              type: string
              const: TutorialCompleted
            accountId:
              type: string
            tutorialId:
              type: string
            totalDurationSeconds:
              type: number
            stepsCompleted:
              type: integer

    TutorialSkipped:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - tutorialId
          properties:
            type:
              type: string
              const: TutorialSkipped
            accountId:
              type: string
            tutorialId:
              type: string
            lastCompletedStep:
              type: string
              nullable: true
            reason:
              type: string
              nullable: true

    # Matchmaking Events
    MatchmakingStarted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - queueId
          properties:
            type:
              type: string
              const: MatchmakingStarted
            accountId:
              type: string
            queueId:
              type: string
            gameMode:
              type: string
            preferences:
              type: object
              nullable: true

    MatchFound:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - matchId
            - participants
          properties:
            type:
              type: string
              const: MatchFound
            matchId:
              type: string
            participants:
              type: array
              items:
                type: string
            waitTimeSeconds:
              type: number
            averageSkillLevel:
              type: number
              nullable: true

    MatchAccepted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - matchId
          properties:
            type:
              type: string
              const: MatchAccepted
            accountId:
              type: string
            matchId:
              type: string

    MatchDeclined:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - matchId
          properties:
            type:
              type: string
              const: MatchDeclined
            accountId:
              type: string
            matchId:
              type: string
            reason:
              type: string
              nullable: true

    MatchmakingCancelled:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - queueId
          properties:
            type:
              type: string
              const: MatchmakingCancelled
            accountId:
              type: string
            queueId:
              type: string
            timeInQueueSeconds:
              type: number

    # Voice/Audio Events
    VoiceChatJoined:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - channelId
          properties:
            type:
              type: string
              const: VoiceChatJoined
            accountId:
              type: string
            channelId:
              type: string
            sessionId:
              type: string
              nullable: true

    VoiceChatLeft:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - channelId
          properties:
            type:
              type: string
              const: VoiceChatLeft
            accountId:
              type: string
            channelId:
              type: string
            durationSeconds:
              type: number

    VoiceChatMuted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - channelId
          properties:
            type:
              type: string
              const: VoiceChatMuted
            accountId:
              type: string
            channelId:
              type: string
            mutedByAccountId:
              type: string
              nullable: true
              description: If null, self-muted

    VoiceChatUnmuted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - channelId
          properties:
            type:
              type: string
              const: VoiceChatUnmuted
            accountId:
              type: string
            channelId:
              type: string

    AudioSettingsChanged:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - setting
          properties:
            type:
              type: string
              const: AudioSettingsChanged
            accountId:
              type: string
            setting:
              type: string
            newValue:
              type: string

    # Localization Events
    ContentTranslationRequested:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - contentId
            - contentType
            - targetLanguage
          properties:
            type:
              type: string
              const: ContentTranslationRequested
            contentId:
              type: string
            contentType:
              type: string
            sourceLanguage:
              type: string
            targetLanguage:
              type: string
            requestedBy:
              type: string
              nullable: true

    ContentTranslationCompleted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - contentId
            - targetLanguage
          properties:
            type:
              type: string
              const: ContentTranslationCompleted
            contentId:
              type: string
            targetLanguage:
              type: string
            translationQuality:
              type: string
              nullable: true

    LocalizationStringUpdated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - stringKey
            - language
          properties:
            type:
              type: string
              const: LocalizationStringUpdated
            stringKey:
              type: string
            language:
              type: string
            oldValue:
              type: string
              nullable: true
            newValue:
              type: string

    TranslationFeedbackSubmitted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - contentId
            - language
            - feedbackType
          properties:
            type:
              type: string
              const: TranslationFeedbackSubmitted
            accountId:
              type: string
            contentId:
              type: string
            language:
              type: string
            feedbackType:
              type: string
              description: e.g., "poor_quality", "inaccurate", "offensive"
            comment:
              type: string
              nullable: true

    # AI Quality Feedback Events
    AIContentRated:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - contentId
            - rating
          properties:
            type:
              type: string
              const: AIContentRated
            accountId:
              type: string
            contentId:
              type: string
            rating:
              type: integer
              minimum: 1
              maximum: 5
            ratingCategory:
              type: string
              nullable: true
              description: e.g., "coherence", "creativity", "relevance"

    AIGenerationFeedbackSubmitted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - generationId
            - feedbackType
          properties:
            type:
              type: string
              const: AIGenerationFeedbackSubmitted
            accountId:
              type: string
            generationId:
              type: string
            feedbackType:
              type: string
              description: e.g., "thumbs_up", "thumbs_down", "flag_inappropriate"
            comment:
              type: string
              nullable: true
            tags:
              type: array
              items:
                type: string
              nullable: true

    AIResponseRegenerationRequested:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - originalGenerationId
          properties:
            type:
              type: string
              const: AIResponseRegenerationRequested
            accountId:
              type: string
            originalGenerationId:
              type: string
            reason:
              type: string
              nullable: true

    AIOutputAccepted:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - generationId
          properties:
            type:
              type: string
              const: AIOutputAccepted
            accountId:
              type: string
            generationId:
              type: string
            editsMade:
              type: boolean
              default: false

    AIHallucinationReported:
      allOf:
        - $ref: '#/components/schemas/IntegrationEvent'
        - type: object
          required:
            - type
            - accountId
            - generationId
          properties:
            type:
              type: string
              const: AIHallucinationReported
            accountId:
              type: string
            generationId:
              type: string
            hallucinationType:
              type: string
              nullable: true
              description: e.g., "factual_error", "inconsistent_lore", "out_of_character"
            excerpt:
              type: string
              nullable: true

    # Union type for all events (118 total across 20 categories)
    MystiraEvent:
      oneOf:
        # Account Events (3)
        - $ref: '#/components/schemas/AccountCreated'
        - $ref: '#/components/schemas/AccountUpdated'
        - $ref: '#/components/schemas/AccountDeleted'
        # Session Events (3)
        - $ref: '#/components/schemas/SessionStarted'
        - $ref: '#/components/schemas/SessionCompleted'
        - $ref: '#/components/schemas/SessionAbandoned'
        # Content Events (5)
        - $ref: '#/components/schemas/ScenarioCreated'
        - $ref: '#/components/schemas/ScenarioUpdated'
        - $ref: '#/components/schemas/ScenarioPublished'
        - $ref: '#/components/schemas/ScenarioUnpublished'
        - $ref: '#/components/schemas/MediaUploaded'
        # Cache Events (2)
        - $ref: '#/components/schemas/CacheInvalidated'
        - $ref: '#/components/schemas/CacheWarmupRequested'
        # AI Events (3)
        - $ref: '#/components/schemas/StoryGenerationRequested'
        - $ref: '#/components/schemas/StoryGenerationCompleted'
        - $ref: '#/components/schemas/StoryGenerationFailed'
        # User Events (4)
        - $ref: '#/components/schemas/UserLoggedIn'
        - $ref: '#/components/schemas/UserLoggedOut'
        - $ref: '#/components/schemas/PasswordResetRequested'
        - $ref: '#/components/schemas/PasswordChanged'
        # Notification Events (3)
        - $ref: '#/components/schemas/NotificationSent'
        - $ref: '#/components/schemas/EmailSent'
        - $ref: '#/components/schemas/NotificationFailed'
        # Progression Events (6)
        - $ref: '#/components/schemas/ChoiceMade'
        - $ref: '#/components/schemas/ChapterStarted'
        - $ref: '#/components/schemas/ChapterCompleted'
        - $ref: '#/components/schemas/CheckpointReached'
        - $ref: '#/components/schemas/StoryBranchTaken'
        - $ref: '#/components/schemas/ProgressSaved'
        # Gamification Events (6)
        - $ref: '#/components/schemas/AchievementUnlocked'
        - $ref: '#/components/schemas/BadgeEarned'
        - $ref: '#/components/schemas/XPEarned'
        - $ref: '#/components/schemas/LevelUp'
        - $ref: '#/components/schemas/StreakUpdated'
        - $ref: '#/components/schemas/LeaderboardUpdated'
        # Payment Events (7)
        - $ref: '#/components/schemas/SubscriptionStarted'
        - $ref: '#/components/schemas/SubscriptionRenewed'
        - $ref: '#/components/schemas/SubscriptionCancelled'
        - $ref: '#/components/schemas/PaymentSucceeded'
        - $ref: '#/components/schemas/PaymentFailed'
        - $ref: '#/components/schemas/RefundProcessed'
        - $ref: '#/components/schemas/PremiumContentUnlocked'
        # Social Events (9)
        - $ref: '#/components/schemas/ScenarioRated'
        - $ref: '#/components/schemas/ScenarioReviewed'
        - $ref: '#/components/schemas/ScenarioShared'
        - $ref: '#/components/schemas/UserFollowed'
        - $ref: '#/components/schemas/UserUnfollowed'
        - $ref: '#/components/schemas/CommentPosted'
        - $ref: '#/components/schemas/CommentDeleted'
        - $ref: '#/components/schemas/ContentLiked'
        - $ref: '#/components/schemas/ContentUnliked'
        # Moderation Events (7)
        - $ref: '#/components/schemas/ContentReported'
        - $ref: '#/components/schemas/ContentModerated'
        - $ref: '#/components/schemas/UserWarned'
        - $ref: '#/components/schemas/UserSuspended'
        - $ref: '#/components/schemas/UserBanned'
        - $ref: '#/components/schemas/AppealSubmitted'
        - $ref: '#/components/schemas/AppealResolved'
        # Onboarding Events (8)
        - $ref: '#/components/schemas/EmailVerified'
        - $ref: '#/components/schemas/OnboardingStarted'
        - $ref: '#/components/schemas/OnboardingStepCompleted'
        - $ref: '#/components/schemas/OnboardingCompleted'
        - $ref: '#/components/schemas/OnboardingSkipped'
        - $ref: '#/components/schemas/ProfileCompleted'
        - $ref: '#/components/schemas/ReferralSignup'
        - $ref: '#/components/schemas/ReferralRewardGranted'
        # Bundle Events (5)
        - $ref: '#/components/schemas/BundleCreated'
        - $ref: '#/components/schemas/BundlePurchased'
        - $ref: '#/components/schemas/BundleActivated'
        - $ref: '#/components/schemas/BundleGifted'
        - $ref: '#/components/schemas/PromoCodeRedeemed'
        # Co-op/Partner Events (8)
        - $ref: '#/components/schemas/PartnerInviteSent'
        - $ref: '#/components/schemas/PartnerInviteAccepted'
        - $ref: '#/components/schemas/PartnerInviteDeclined'
        - $ref: '#/components/schemas/CoopSessionStarted'
        - $ref: '#/components/schemas/PartnerJoinedSession'
        - $ref: '#/components/schemas/PartnerLeftSession'
        - $ref: '#/components/schemas/CoopSessionEnded'
        - $ref: '#/components/schemas/TurnPassed'
        # Chat/Messaging Events (8)
        - $ref: '#/components/schemas/ConversationStarted'
        - $ref: '#/components/schemas/MessageSent'
        - $ref: '#/components/schemas/MessageDelivered'
        - $ref: '#/components/schemas/MessageRead'
        - $ref: '#/components/schemas/MessageDeleted'
        - $ref: '#/components/schemas/TypingStarted'
        - $ref: '#/components/schemas/ConversationArchived'
        - $ref: '#/components/schemas/UserMutedInConversation'
        # Device/Sync Events (7)
        - $ref: '#/components/schemas/DeviceRegistered'
        - $ref: '#/components/schemas/DeviceRemoved'
        - $ref: '#/components/schemas/SessionSynced'
        - $ref: '#/components/schemas/SyncConflictDetected'
        - $ref: '#/components/schemas/DeviceHandoffStarted'
        - $ref: '#/components/schemas/DeviceHandoffCompleted'
        - $ref: '#/components/schemas/PushSettingsUpdated'
        # Discovery/Recommendation Events (8)
        - $ref: '#/components/schemas/SearchPerformed'
        - $ref: '#/components/schemas/SearchResultClicked'
        - $ref: '#/components/schemas/RecommendationShown'
        - $ref: '#/components/schemas/RecommendationClicked'
        - $ref: '#/components/schemas/RecommendationDismissed'
        - $ref: '#/components/schemas/ContentFeatured'
        - $ref: '#/components/schemas/TagFollowed'
        - $ref: '#/components/schemas/TagUnfollowed'
        # Inventory Events (8)
        - $ref: '#/components/schemas/ItemAcquired'
        - $ref: '#/components/schemas/ItemUsed'
        - $ref: '#/components/schemas/ItemEquipped'
        - $ref: '#/components/schemas/ItemUnequipped'
        - $ref: '#/components/schemas/CurrencyEarned'
        - $ref: '#/components/schemas/CurrencySpent'
        - $ref: '#/components/schemas/ItemTraded'
        - $ref: '#/components/schemas/DailyRewardClaimed'
        # Preference Events (8)
        - $ref: '#/components/schemas/PreferencesUpdated'
        - $ref: '#/components/schemas/ThemeChanged'
        - $ref: '#/components/schemas/LanguageChanged'
        - $ref: '#/components/schemas/AccessibilitySettingChanged'
        - $ref: '#/components/schemas/PrivacySettingChanged'
        - $ref: '#/components/schemas/NotificationPreferenceChanged'
        - $ref: '#/components/schemas/ContentPreferenceUpdated'
        - $ref: '#/components/schemas/ParentalControlsUpdated'
      discriminator:
        propertyName: type
        mapping:
          # Account Events
          AccountCreated: '#/components/schemas/AccountCreated'
          AccountUpdated: '#/components/schemas/AccountUpdated'
          AccountDeleted: '#/components/schemas/AccountDeleted'
          # Session Events
          SessionStarted: '#/components/schemas/SessionStarted'
          SessionCompleted: '#/components/schemas/SessionCompleted'
          SessionAbandoned: '#/components/schemas/SessionAbandoned'
          # Content Events
          ScenarioCreated: '#/components/schemas/ScenarioCreated'
          ScenarioUpdated: '#/components/schemas/ScenarioUpdated'
          ScenarioPublished: '#/components/schemas/ScenarioPublished'
          ScenarioUnpublished: '#/components/schemas/ScenarioUnpublished'
          MediaUploaded: '#/components/schemas/MediaUploaded'
          # Cache Events
          CacheInvalidated: '#/components/schemas/CacheInvalidated'
          CacheWarmupRequested: '#/components/schemas/CacheWarmupRequested'
          # AI Events
          StoryGenerationRequested: '#/components/schemas/StoryGenerationRequested'
          StoryGenerationCompleted: '#/components/schemas/StoryGenerationCompleted'
          StoryGenerationFailed: '#/components/schemas/StoryGenerationFailed'
          # User Events
          UserLoggedIn: '#/components/schemas/UserLoggedIn'
          UserLoggedOut: '#/components/schemas/UserLoggedOut'
          PasswordResetRequested: '#/components/schemas/PasswordResetRequested'
          PasswordChanged: '#/components/schemas/PasswordChanged'
          # Notification Events
          NotificationSent: '#/components/schemas/NotificationSent'
          EmailSent: '#/components/schemas/EmailSent'
          NotificationFailed: '#/components/schemas/NotificationFailed'
          # Progression Events
          ChoiceMade: '#/components/schemas/ChoiceMade'
          ChapterStarted: '#/components/schemas/ChapterStarted'
          ChapterCompleted: '#/components/schemas/ChapterCompleted'
          CheckpointReached: '#/components/schemas/CheckpointReached'
          StoryBranchTaken: '#/components/schemas/StoryBranchTaken'
          ProgressSaved: '#/components/schemas/ProgressSaved'
          # Gamification Events
          AchievementUnlocked: '#/components/schemas/AchievementUnlocked'
          BadgeEarned: '#/components/schemas/BadgeEarned'
          XPEarned: '#/components/schemas/XPEarned'
          LevelUp: '#/components/schemas/LevelUp'
          StreakUpdated: '#/components/schemas/StreakUpdated'
          LeaderboardUpdated: '#/components/schemas/LeaderboardUpdated'
          # Payment Events
          SubscriptionStarted: '#/components/schemas/SubscriptionStarted'
          SubscriptionRenewed: '#/components/schemas/SubscriptionRenewed'
          SubscriptionCancelled: '#/components/schemas/SubscriptionCancelled'
          PaymentSucceeded: '#/components/schemas/PaymentSucceeded'
          PaymentFailed: '#/components/schemas/PaymentFailed'
          RefundProcessed: '#/components/schemas/RefundProcessed'
          PremiumContentUnlocked: '#/components/schemas/PremiumContentUnlocked'
          # Social Events
          ScenarioRated: '#/components/schemas/ScenarioRated'
          ScenarioReviewed: '#/components/schemas/ScenarioReviewed'
          ScenarioShared: '#/components/schemas/ScenarioShared'
          UserFollowed: '#/components/schemas/UserFollowed'
          UserUnfollowed: '#/components/schemas/UserUnfollowed'
          CommentPosted: '#/components/schemas/CommentPosted'
          CommentDeleted: '#/components/schemas/CommentDeleted'
          ContentLiked: '#/components/schemas/ContentLiked'
          ContentUnliked: '#/components/schemas/ContentUnliked'
          # Moderation Events
          ContentReported: '#/components/schemas/ContentReported'
          ContentModerated: '#/components/schemas/ContentModerated'
          UserWarned: '#/components/schemas/UserWarned'
          UserSuspended: '#/components/schemas/UserSuspended'
          UserBanned: '#/components/schemas/UserBanned'
          AppealSubmitted: '#/components/schemas/AppealSubmitted'
          AppealResolved: '#/components/schemas/AppealResolved'
          # Onboarding Events
          EmailVerified: '#/components/schemas/EmailVerified'
          OnboardingStarted: '#/components/schemas/OnboardingStarted'
          OnboardingStepCompleted: '#/components/schemas/OnboardingStepCompleted'
          OnboardingCompleted: '#/components/schemas/OnboardingCompleted'
          OnboardingSkipped: '#/components/schemas/OnboardingSkipped'
          ProfileCompleted: '#/components/schemas/ProfileCompleted'
          ReferralSignup: '#/components/schemas/ReferralSignup'
          ReferralRewardGranted: '#/components/schemas/ReferralRewardGranted'
          # Bundle Events
          BundleCreated: '#/components/schemas/BundleCreated'
          BundlePurchased: '#/components/schemas/BundlePurchased'
          BundleActivated: '#/components/schemas/BundleActivated'
          BundleGifted: '#/components/schemas/BundleGifted'
          PromoCodeRedeemed: '#/components/schemas/PromoCodeRedeemed'
          # Co-op/Partner Events
          PartnerInviteSent: '#/components/schemas/PartnerInviteSent'
          PartnerInviteAccepted: '#/components/schemas/PartnerInviteAccepted'
          PartnerInviteDeclined: '#/components/schemas/PartnerInviteDeclined'
          CoopSessionStarted: '#/components/schemas/CoopSessionStarted'
          PartnerJoinedSession: '#/components/schemas/PartnerJoinedSession'
          PartnerLeftSession: '#/components/schemas/PartnerLeftSession'
          CoopSessionEnded: '#/components/schemas/CoopSessionEnded'
          TurnPassed: '#/components/schemas/TurnPassed'
          # Chat/Messaging Events
          ConversationStarted: '#/components/schemas/ConversationStarted'
          MessageSent: '#/components/schemas/MessageSent'
          MessageDelivered: '#/components/schemas/MessageDelivered'
          MessageRead: '#/components/schemas/MessageRead'
          MessageDeleted: '#/components/schemas/MessageDeleted'
          TypingStarted: '#/components/schemas/TypingStarted'
          ConversationArchived: '#/components/schemas/ConversationArchived'
          UserMutedInConversation: '#/components/schemas/UserMutedInConversation'
          # Device/Sync Events
          DeviceRegistered: '#/components/schemas/DeviceRegistered'
          DeviceRemoved: '#/components/schemas/DeviceRemoved'
          SessionSynced: '#/components/schemas/SessionSynced'
          SyncConflictDetected: '#/components/schemas/SyncConflictDetected'
          DeviceHandoffStarted: '#/components/schemas/DeviceHandoffStarted'
          DeviceHandoffCompleted: '#/components/schemas/DeviceHandoffCompleted'
          PushSettingsUpdated: '#/components/schemas/PushSettingsUpdated'
          # Discovery/Recommendation Events
          SearchPerformed: '#/components/schemas/SearchPerformed'
          SearchResultClicked: '#/components/schemas/SearchResultClicked'
          RecommendationShown: '#/components/schemas/RecommendationShown'
          RecommendationClicked: '#/components/schemas/RecommendationClicked'
          RecommendationDismissed: '#/components/schemas/RecommendationDismissed'
          ContentFeatured: '#/components/schemas/ContentFeatured'
          TagFollowed: '#/components/schemas/TagFollowed'
          TagUnfollowed: '#/components/schemas/TagUnfollowed'
          # Inventory Events
          ItemAcquired: '#/components/schemas/ItemAcquired'
          ItemUsed: '#/components/schemas/ItemUsed'
          ItemEquipped: '#/components/schemas/ItemEquipped'
          ItemUnequipped: '#/components/schemas/ItemUnequipped'
          CurrencyEarned: '#/components/schemas/CurrencyEarned'
          CurrencySpent: '#/components/schemas/CurrencySpent'
          ItemTraded: '#/components/schemas/ItemTraded'
          DailyRewardClaimed: '#/components/schemas/DailyRewardClaimed'
          # Preference Events
          PreferencesUpdated: '#/components/schemas/PreferencesUpdated'
          ThemeChanged: '#/components/schemas/ThemeChanged'
          LanguageChanged: '#/components/schemas/LanguageChanged'
          AccessibilitySettingChanged: '#/components/schemas/AccessibilitySettingChanged'
          PrivacySettingChanged: '#/components/schemas/PrivacySettingChanged'
          NotificationPreferenceChanged: '#/components/schemas/NotificationPreferenceChanged'
          ContentPreferenceUpdated: '#/components/schemas/ContentPreferenceUpdated'
          ParentalControlsUpdated: '#/components/schemas/ParentalControlsUpdated'
          # Season/Battle Pass Events
          SeasonStarted: '#/components/schemas/SeasonStarted'
          SeasonEnded: '#/components/schemas/SeasonEnded'
          BattlePassPurchased: '#/components/schemas/BattlePassPurchased'
          BattlePassTierCompleted: '#/components/schemas/BattlePassTierCompleted'
          SeasonalRewardClaimed: '#/components/schemas/SeasonalRewardClaimed'
          # Tutorial Events
          TutorialStarted: '#/components/schemas/TutorialStarted'
          TutorialStepCompleted: '#/components/schemas/TutorialStepCompleted'
          TutorialCompleted: '#/components/schemas/TutorialCompleted'
          TutorialSkipped: '#/components/schemas/TutorialSkipped'
          # Matchmaking Events
          MatchmakingStarted: '#/components/schemas/MatchmakingStarted'
          MatchFound: '#/components/schemas/MatchFound'
          MatchAccepted: '#/components/schemas/MatchAccepted'
          MatchDeclined: '#/components/schemas/MatchDeclined'
          MatchmakingCancelled: '#/components/schemas/MatchmakingCancelled'
          # Voice/Audio Events
          VoiceChatJoined: '#/components/schemas/VoiceChatJoined'
          VoiceChatLeft: '#/components/schemas/VoiceChatLeft'
          VoiceChatMuted: '#/components/schemas/VoiceChatMuted'
          VoiceChatUnmuted: '#/components/schemas/VoiceChatUnmuted'
          AudioSettingsChanged: '#/components/schemas/AudioSettingsChanged'
          # Localization Events
          ContentTranslationRequested: '#/components/schemas/ContentTranslationRequested'
          ContentTranslationCompleted: '#/components/schemas/ContentTranslationCompleted'
          LocalizationStringUpdated: '#/components/schemas/LocalizationStringUpdated'
          TranslationFeedbackSubmitted: '#/components/schemas/TranslationFeedbackSubmitted'
          # AI Quality Feedback Events
          AIContentRated: '#/components/schemas/AIContentRated'
          AIGenerationFeedbackSubmitted: '#/components/schemas/AIGenerationFeedbackSubmitted'
          AIResponseRegenerationRequested: '#/components/schemas/AIResponseRegenerationRequested'
          AIOutputAccepted: '#/components/schemas/AIOutputAccepted'
          AIHallucinationReported: '#/components/schemas/AIHallucinationReported'
